!function(){function n(n){var t=n.position,o=n.delay;console.log("Resolve promise ".concat(t," in ").concat(o,"ms"))}function t(n){var t=n.position,o=n.delay;console.error("Rejected promise ".concat(t," in ").concat(o,"ms"))}document.querySelector(".form").addEventListener("submit",function(o){o.preventDefault();var e,i,a,c=Object.fromEntries(new FormData(o.currentTarget).entries());c.position=parseInt(c.position),c.delay=parseInt(c.delay),c.step=parseInt(c.step),c.amount=parseInt(c.amount),(e=c.delay,i=c.step,a=c.amount,new Promise(function(o,c){var r=e,s=[];!function e(c){var u,p,f,l;if(c>a){o(s);return}(p=(u={position:c,delay:r}).position,f=u.delay,l=Math.random()>.3,new Promise(function(n,t){setTimeout(function(){l?n({position:p,delay:f}):t({position:p,delay:f})},f)})).then(function(t){s.push(t),n(t)}).catch(function(n){s.push(n),t(n)}).finally(function(){r+=i,e(c+1)})}(1)})).then(function(t){t.forEach(n)}).catch(t)})}();
//# sourceMappingURL=03-promises.da8ae1d1.js.map
